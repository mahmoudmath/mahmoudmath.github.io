<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact - Pr. Mahmoud El Ahmadi</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- HEADER ACAD√âMIQUE -->
        <header class="professor-header" data-aos="fade-down">
            <div class="header-content">
                <div class="professor-name">Contact & Coordonn√©es</div>
                <div class="professor-title">Pr. Mahmoud El Ahmadi</div>
            </div>
        </header>

        <!-- NAVIGATION -->
        <nav class="academic-nav" data-aos="fade-up">
            <a href="index.html" class="nav-card">üè† ACCUEIL</a>
        </nav>

        <!-- CONTACT GRID -->
        <div class="contact-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; margin-top: 30px; align-items: stretch;">
            
            <!-- COLONNE GAUCHE : INFOS -->
            <aside data-aos="fade-right" style="display: flex;">
                <div class="presentation" style="flex: 1; border-left: 8px solid #0056b3; display: flex; flex-direction: column; width: 100%;">
                    <h3 style="color: #0056b3; margin-bottom: 25px; border-bottom: 2px solid #0056b3; padding-bottom: 10px;">Coordonn√©es</h3>
                    
                    <div style="margin-bottom: 25px;">
                        <p style="font-weight: bold; color: #333;"><i class="fas fa-map-marker-alt" style="color:#0056b3; margin-right: 10px;"></i> Bureau :</p>
                        <p style="color: #555; margin-top: 5px;">D√©partement de Math√©matiques,<br>FST de F√®s.</p>
                    </div>

                    <div style="margin-bottom: 25px;">
                        <p style="font-weight: bold; color: #333;"><i class="fas fa-envelope" style="color:#0056b3; margin-right: 10px;"></i> Email :</p>
                        <p style="color: #0056b3; font-weight: 600; word-break: break-all;">mahmoud.elahmadi@usmba.ac.ma</p>
                    </div>

                    <div style="margin-bottom: 25px;">
                        <p style="font-weight: bold; color: #333;"><i class="fas fa-clock" style="color:#0056b3; margin-right: 10px;"></i> Permanence :</p>
                        <p style="color: #555; margin-top: 5px;">Sur rendez-vous ou pendant les s√©ances d‚Äôenseignement.<br>Veuillez consulter mon emploi du temps sur le site de la FST.</p>
                    </div>
                </div>
            </aside>

            <!-- COLONNE DROITE : FORMULAIRE -->
            <main data-aos="fade-left" style="display: flex;">
                <div class="presentation" style="flex: 1; border-left: 8px solid #0056b3; display: flex; flex-direction: column; width: 100%;">
                    <h3 style="color: #0056b3; margin-bottom: 25px; text-align: center;">Envoyez un message</h3>
                    
                    <!-- AJOUT DE ID="contact-form" -->
                    <form id="contact-form" action="https://formspree.io/f/xjgekbrr" method="POST" style="display: flex; flex-direction: column; gap: 18px; flex: 1;">
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div style="display: flex; flex-direction: column; gap: 5px;">
                                <label style="font-weight: 600;">Nom</label>
                                <input type="text" name="nom" placeholder="Votre nom" required style="padding:12px; border-radius:8px; border:1px solid #ddd; outline: none;">
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 5px;">
                                <label style="font-weight: 600;">Pr√©nom</label>
                                <input type="text" name="prenom" placeholder="Votre pr√©nom" required style="padding:12px; border-radius:8px; border:1px solid #ddd; outline: none;">
                            </div>
                        </div>

                        <div style="display: flex; flex-direction: column; gap: 5px;">
                            <label style="font-weight: 600;">Votre Email</label>
                            <input type="email" name="email" placeholder="votre@email.com" required style="padding:12px; border-radius:8px; border:1px solid #ddd; outline: none;">
                        </div>

                        <div style="display: flex; flex-direction: column; gap: 5px;">
                            <label style="font-weight: 600;">Objet du message</label>
                            <select name="objet" required style="padding:12px; border-radius:8px; border:1px solid #ddd; outline: none; background: white; cursor: pointer;">
                                <option value="" disabled selected>-- S√©lectionnez un sujet --</option>
                                <option value="Question Analyse">Question sur un cours (Analyse)</option>
                                <option value="Rendez-vous">Demande de rendez-vous</option>
                                <option value="Collaboration">Collaboration / Recherche Scientifique</option>
                                <option value="Autre">Autre demande</option>
                            </select>
                        </div>

                        <div style="display: flex; flex-direction: column; gap: 5px; flex: 1;">
                            <label style="font-weight: 600;">Message</label>
                            <textarea name="message" placeholder="√âcrivez votre message ici..." required style="padding:12px; border-radius:8px; border:1px solid #ddd; outline: none; resize: none; height: 100%; min-height: 120px;"></textarea>
                        </div>

                        <button id="submit-button" type="submit" style="background:#0056b3; color:white; border:none; padding:15px; border-radius:8px; cursor:pointer; font-size: 1.1em; font-weight: bold; transition: 0.3s; margin-top: auto;">
                            üöÄ Envoyer le message
                        </button>

                        <!-- ZONE POUR LE MESSAGE DE SUCC√àS -->
                        <div id="contact-status" style="margin-top: 15px; padding: 12px; border-radius: 8px; text-align: center; display: none; font-weight: bold;"></div>
                    </form>
                </div>
            </main>
        </div>

        <footer class="professor-footer" style="margin-top: 40px;">
            <div class="signature"><p>¬© 2026 Pr. Mahmoud El Ahmadi - FST de F√®s, USMBA</p></div>
        </footer>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
    AOS.init();

    const form = document.getElementById("contact-form");
    const status = document.getElementById("contact-status");
    const button = document.getElementById("submit-button");

    form.addEventListener("submit", async function(event) {
        event.preventDefault();
        const data = new FormData(event.target);

        // √âtat initial lors du clic
        button.disabled = true;
        button.innerHTML = "‚åõ Envoi en cours...";

        fetch(event.target.action, {
            method: 'POST',
            body: data,
            headers: { 'Accept': 'application/json' }
        }).then(response => {
            if (response.ok) {
                // 1. AFFICHER LE MESSAGE DE SUCC√àS
                status.style.display = "block";
                status.style.backgroundColor = "#d4edda";
                status.style.color = "#155724";
                status.innerHTML = "‚úÖ Merci ! Votre message a √©t√© envoy√© avec succ√®s.";
                
                form.reset(); // Vide les champs
                button.style.display = "none"; // Cache le bouton temporairement

                // 2. DISPARA√éTRE APR√àS 3 SECONDES (3000 ms)
                setTimeout(() => {
                    status.style.display = "none";      // Cache le message vert
                    button.style.display = "block";     // R√©affiche le bouton
                    button.disabled = false;            // R√©active le bouton
                    button.innerHTML = "üöÄ Envoyer le message"; // Remet le texte original
                }, 3000);

            } else {
                // GESTION ERREUR
                status.style.display = "block";
                status.style.backgroundColor = "#f8d7da";
                status.style.color = "#721c24";
                status.innerHTML = "‚ùå Oups ! Un probl√®me est survenu.";
                button.disabled = false;
                button.innerHTML = "üöÄ R√©essayer l'envoi";
            }
        }).catch(error => {
            status.style.display = "block";
            status.style.backgroundColor = "#f8d7da";
            status.innerHTML = "‚ùå Erreur de connexion.";
            button.disabled = false;
            button.innerHTML = "üöÄ R√©essayer l'envoi";
        });
    });
</script>
</body>
</html>
